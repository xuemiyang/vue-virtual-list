(function(p,o){typeof exports=="object"&&typeof module<"u"?o(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],o):(p=typeof globalThis<"u"?globalThis:p||self,o(p.VirtualList={},p.Vue))})(this,function(p,o){"use strict";const y=((C,S)=>{const l=C.__vccOpts||C;for(const[r,s]of S)l[r]=s;return l})(o.defineComponent({__name:"VirtualList",props:{type:null,itemWidth:null,itemHeight:null,rowSpace:null,columnSpace:null,repeatNumber:null,values:null},setup(C,{expose:S}){const l=C;o.useCssVars(e=>({f1e555ea:o.unref(W),ee1c93be:o.unref(P),"2928f310":o.unref(b),"19fc6d2d":o.unref(L),"96eb5926":o.unref(N),"050c089f":o.unref(T)}));const r=o.computed(()=>l.itemWidth+l.columnSpace),s=o.computed(()=>l.itemHeight+l.rowSpace),w=o.computed(()=>Math.floor(16777200/r.value)*r.value),d=o.computed(()=>Math.floor(16777200/s.value)*s.value),h=o.computed(()=>Math.floor(167772/s.value)),g=o.computed(()=>Math.floor(167772/r.value)),x=o.ref(),_=o.computed(()=>{var e;return((e=x.value)==null?void 0:e.offsetWidth)??0}),$=o.computed(()=>{var e;return((e=x.value)==null?void 0:e.offsetHeight)??0}),b=o.computed(()=>`${l.itemWidth}px`),L=o.computed(()=>`${l.itemHeight}px`),N=o.computed(()=>`${l.columnSpace}px`),T=o.computed(()=>`${l.rowSpace}px`),W=o.computed(()=>`${-l.columnSpace}px`),P=o.computed(()=>`${-l.rowSpace}px`),u=o.computed(()=>{const e={rowCount:1,columnCount:1};return l.type=="horizontal"?l.repeatNumber>0?(e.rowCount=Math.ceil(l.values.length/l.repeatNumber),e.columnCount=Math.min(l.values.length,l.repeatNumber)):l.values.length>0&&(e.columnCount=l.values.length):l.type=="vertical"&&(l.repeatNumber>0?(e.columnCount=Math.ceil(l.values.length/l.repeatNumber),e.rowCount=Math.min(l.values.length,l.repeatNumber)):l.values.length>0&&(e.rowCount=l.values.length)),e}),f=o.computed(()=>({rowCount:Math.min(Math.floor(($.value+l.rowSpace)/s.value)+1,u.value.rowCount),columnCount:Math.min(Math.floor((_.value+l.columnSpace)/r.value)+1,u.value.columnCount)})),n=o.ref({rowCount:0,columnCount:0}),c=o.ref({row:0,column:0}),v=o.computed(()=>{const e={row:0,column:0};return e.row=Math.min(c.value.row+f.value.rowCount*3,u.value.rowCount-1),e.column=Math.min(c.value.column+f.value.columnCount*3,u.value.columnCount-1),l.type=="horizontal"?(e.row*u.value.columnCount+e.column>=l.values.length&&(e.row=u.value.rowCount-1,e.column=u.value.columnCount-1),l.repeatNumber<=0&&(e.row=0)):l.type=="vertical"&&(e.column*u.value.rowCount+e.row>=l.values.length&&(e.column=u.value.columnCount-1,e.row=u.value.rowCount-1),l.repeatNumber<=0&&(e.column=0)),e}),k=o.computed(()=>{const e=[];if(l.type=="horizontal")for(let t=c.value.row;t<=v.value.row;t++){const i=t*u.value.columnCount+c.value.column,m=t*u.value.columnCount+v.value.column;for(let a=i;a<=m&&a<l.values.length;a++)e.push({index:a,value:l.values[a]})}else if(l.type=="vertical")for(let t=c.value.column;t<=v.value.column;t++){const i=t*u.value.rowCount+c.value.row,m=t*u.value.rowCount+v.value.row;for(let a=i;a<=m&&a<l.values.length;a++)e.push({index:a,value:l.values[a]})}return e}),z=o.computed(()=>{let e=r.value*(c.value.column-n.value.columnCount),t=s.value*(c.value.row-n.value.rowCount),i=r.value*(u.value.columnCount-1-(v.value.column-n.value.columnCount)),m=s.value*(u.value.rowCount-1-(v.value.row-n.value.rowCount));e+i>w.value&&(e>w.value&&(e=w.value),i=w.value-e),t+m>d.value&&(t>d.value&&(t=d.value),m=d.value-t);const a=r.value*(v.value.column-c.value.column+1),V=s.value*(v.value.row-c.value.row+1);return{padding:`${t}px ${i}px ${m}px ${e}px`,width:`${a}px`,height:`${V}px`,flexDirection:l.type=="horizontal"?"row":"column"}}),H=e=>{const t=e.target,i=Math.floor((t.scrollTop+l.rowSpace)/s.value)+n.value.rowCount,m=Math.floor((t.scrollLeft+l.columnSpace)/r.value)+n.value.columnCount;if(c.value.row=i<f.value.rowCount?0:i-f.value.rowCount,c.value.column=m<f.value.columnCount?0:m-f.value.columnCount,l.repeatNumber<=0&&(l.type=="horizontal"?c.value.row=0:l.type=="vertical"&&(c.value.column=0)),t.scrollTop+t.offsetHeight>=t.scrollHeight&&v.value.row<u.value.rowCount-1){const a=u.value.rowCount-1-v.value.row>h.value?h.value:u.value.rowCount-1-v.value.row;n.value.rowCount+=a,t.scrollTop-=s.value*a}else if(n.value.rowCount>0&&c.value.row<n.value.rowCount){const a=n.value.rowCount>h.value?h.value:n.value.rowCount;n.value.rowCount-=a,t.scrollTop+=s.value*a}else if(t.scrollLeft+t.offsetWidth>=t.scrollWidth&&v.value.column<u.value.columnCount-1){const a=u.value.columnCount-1-v.value.column>g.value?g.value:u.value.columnCount-1-v.value.column;n.value.columnCount+=a,t.scrollLeft-=r.value*a}else if(n.value.columnCount>0&&c.value.column<n.value.columnCount){const a=n.value.columnCount>g.value?g.value:n.value.columnCount;n.value.columnCount-=a,t.scrollLeft+=r.value*a}};return S({scrollTo:(e,t)=>{if(!x.value)return;e<0?e=0:e>u.value.rowCount-f.value.rowCount&&(e=u.value.rowCount-f.value.rowCount),t<0?t=0:t>u.value.columnCount-f.value.columnCount&&(t=u.value.columnCount-f.value.columnCount),t>w.value/r.value-g.value?n.value.columnCount=t-(w.value/r.value-g.value):t<n.value.columnCount&&(n.value.columnCount=t),e>d.value/s.value-h.value?n.value.rowCount=e-(d.value/s.value-h.value):e<n.value.rowCount&&(n.value.rowCount=e);const i=(t-n.value.columnCount)*r.value,m=(e-n.value.rowCount)*s.value;x.value.scrollTo(i,m)}}),(e,t)=>(o.openBlock(),o.createElementBlock("div",{ref_key:"wrapper",ref:x,class:o.normalizeClass(e.$style.wrapper),onScrollPassive:H},[o.createElementVNode("div",{class:o.normalizeClass(e.$style.content),style:o.normalizeStyle(o.unref(z))},[(o.openBlock(!0),o.createElementBlock(o.Fragment,null,o.renderList(o.unref(k),(i,m)=>(o.openBlock(),o.createElementBlock("div",{key:m,class:o.normalizeClass(e.$style.item)},[o.renderSlot(e.$slots,"default",{item:i.value,index:i.index})],2))),128))],6)],34))}}),[["__cssModules",{$style:{wrapper:"_wrapper_19wfm_2",content:"_content_19wfm_6",item:"_item_19wfm_14"}}]]),M={install(C){C.component("VirtualList",y)}};p.VirtualList=y,p.default=M,Object.defineProperties(p,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
