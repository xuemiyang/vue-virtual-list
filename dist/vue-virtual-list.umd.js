(function(v,e){typeof exports=="object"&&typeof module<"u"?e(exports,require("vue")):typeof define=="function"&&define.amd?define(["exports","vue"],e):(v=typeof globalThis<"u"?globalThis:v||self,e(v.VirtualList={},v.Vue))})(this,function(v,e){"use strict";const S=((f,o)=>{const r=f.__vccOpts||f;for(const[m,d]of o)r[m]=d;return r})(e.defineComponent({__name:"VirtualList",props:{type:null,itemWidth:null,itemHeight:null,rowSpace:null,columnSpace:null,repeatNumber:null,values:null},setup(f){const o=f;e.useCssVars(t=>({ba460dda:e.unref(W),dbcd1dce:e.unref(P),"107dc1d0":e.unref($),"1e69c225":e.unref(b),"3dc79d75":e.unref(L),"1c3a3b97":e.unref(N)}));const r=e.computed(()=>o.itemWidth+o.columnSpace),m=e.computed(()=>o.itemHeight+o.rowSpace),d=e.computed(()=>Math.floor(16777200/r.value)*r.value),h=e.computed(()=>Math.floor(16777200/m.value)*m.value),C=e.computed(()=>Math.floor(167772/m.value)),g=e.computed(()=>Math.floor(167772/r.value)),x=e.ref(),M=e.computed(()=>{var t;return((t=x.value)==null?void 0:t.offsetWidth)??0}),_=e.computed(()=>{var t;return((t=x.value)==null?void 0:t.offsetHeight)??0}),$=e.computed(()=>`${o.itemWidth}px`),b=e.computed(()=>`${o.itemHeight}px`),L=e.computed(()=>`${o.columnSpace}px`),N=e.computed(()=>`${o.rowSpace}px`),W=e.computed(()=>`${-o.columnSpace}px`),P=e.computed(()=>`${-o.rowSpace}px`),n=e.computed(()=>{const t={rowCount:1,columnCount:1};return o.type=="horizontal"?o.repeatNumber>0?(t.rowCount=Math.ceil(o.values.length/o.repeatNumber),t.columnCount=Math.min(o.values.length,o.repeatNumber)):o.values.length>0&&(t.columnCount=o.values.length):o.type=="vertical"&&(o.repeatNumber>0?(t.columnCount=Math.ceil(o.values.length/o.repeatNumber),t.rowCount=Math.min(o.values.length,o.repeatNumber)):o.values.length>0&&(t.rowCount=o.values.length)),t}),w=e.computed(()=>({rowCount:Math.min(Math.floor((_.value+o.rowSpace)/m.value)+1,n.value.rowCount),columnCount:Math.min(Math.floor((M.value+o.columnSpace)/r.value)+1,n.value.columnCount)})),u=e.ref({rowCount:0,columnCount:0}),a=e.ref({row:0,column:0}),c=e.computed(()=>{const t={row:0,column:0};return t.row=Math.min(a.value.row+w.value.rowCount*3,n.value.rowCount-1),t.column=Math.min(a.value.column+w.value.columnCount*3,n.value.columnCount-1),o.type=="horizontal"?(t.row*n.value.columnCount+t.column>=o.values.length&&(t.row=n.value.rowCount-1,t.column=n.value.columnCount-1),o.repeatNumber<=0&&(t.row=0)):o.type=="vertical"&&(t.column*n.value.rowCount+t.row>=o.values.length&&(t.column=n.value.columnCount-1,t.row=n.value.rowCount-1),o.repeatNumber<=0&&(t.column=0)),t}),k=e.computed(()=>{const t=[];if(o.type=="horizontal")for(let l=a.value.row;l<=c.value.row;l++){const p=l*n.value.columnCount+a.value.column,s=l*n.value.columnCount+c.value.column;t.push(...o.values.slice(p,s+1))}else if(o.type=="vertical")for(let l=a.value.column;l<=c.value.column;l++){const p=l*n.value.rowCount+a.value.row,s=l*n.value.rowCount+c.value.row;t.push(...o.values.slice(p,s+1))}return t}),z=e.computed(()=>{let t=r.value*(a.value.column-u.value.columnCount),l=m.value*(a.value.row-u.value.rowCount),p=r.value*(n.value.columnCount-1-(c.value.column-u.value.columnCount)),s=m.value*(n.value.rowCount-1-(c.value.row-u.value.rowCount));t+p>d.value&&(t>d.value&&(t=d.value),p=d.value-t),l+s>h.value&&(l>h.value&&(l=h.value),s=h.value-l);const i=r.value*(c.value.column-a.value.column+1),T=m.value*(c.value.row-a.value.row+1);return{padding:`${l}px ${p}px ${s}px ${t}px`,width:`${i}px`,height:`${T}px`,flexDirection:o.type=="horizontal"?"row":"column"}}),H=t=>{const l=t.target,p=Math.floor((l.scrollTop+o.rowSpace)/m.value)+u.value.rowCount,s=Math.floor((l.scrollLeft+o.columnSpace)/r.value)+u.value.columnCount;if(a.value.row=p<w.value.rowCount?0:p-w.value.rowCount,a.value.column=s<w.value.columnCount?0:s-w.value.columnCount,o.repeatNumber<=0&&(o.type=="horizontal"?a.value.row=0:o.type=="vertical"&&(a.value.column=0)),l.scrollTop+l.offsetHeight>=l.scrollHeight&&c.value.row<n.value.rowCount-1){const i=n.value.rowCount-1-c.value.row>C.value?C.value:n.value.rowCount-1-c.value.row;u.value.rowCount+=i,l.scrollTop-=m.value*i}else if(u.value.rowCount>0&&a.value.row<u.value.rowCount){const i=u.value.rowCount>C.value?C.value:u.value.rowCount;u.value.rowCount-=i,l.scrollTop+=m.value*i}else if(l.scrollLeft+l.offsetWidth>=l.scrollWidth&&c.value.column<n.value.columnCount-1){const i=n.value.columnCount-1-c.value.column>g.value?g.value:n.value.columnCount-1-c.value.column;u.value.columnCount+=i,l.scrollLeft-=r.value*i}else if(u.value.columnCount>0&&a.value.column<u.value.columnCount){const i=u.value.columnCount>g.value?g.value:u.value.columnCount;u.value.columnCount-=i,l.scrollLeft+=r.value*i}};return(t,l)=>(e.openBlock(),e.createElementBlock("div",{ref_key:"wrapper",ref:x,class:e.normalizeClass(t.$style.wrapper),onScrollPassive:H},[e.createElementVNode("div",{class:e.normalizeClass(t.$style.content),style:e.normalizeStyle(e.unref(z))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(k),(p,s)=>(e.openBlock(),e.createElementBlock("div",{key:s,class:e.normalizeClass(t.$style.item)},[e.renderSlot(t.$slots,"default",{item:p,index:s})],2))),128))],6)],34))}}),[["__cssModules",{$style:{wrapper:"_wrapper_14snw_3",content:"_content_14snw_11",item:"_item_14snw_27"}}]]),y={install(f){f.component("VirtualList",S)}};v.VirtualList=S,v.default=y,Object.defineProperties(v,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
